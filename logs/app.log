2025-08-12 14:00:38 - root - INFO - main.py:88 - ================================================================================
2025-08-12 14:00:38 - root - INFO - main.py:89 - Application starting with enhanced logging (level: INFO)
2025-08-12 14:00:38 - root - INFO - main.py:90 - Python version: 3.12.11 (main, Jul 29 2025, 18:21:07) [GCC 13.3.0]
2025-08-12 14:00:38 - root - INFO - main.py:91 - Working directory: /app
2025-08-12 14:00:38 - root - INFO - main.py:92 - ================================================================================
2025-08-12 14:00:39 - app.main - INFO - main.py:1407 - Initializing API routers...
2025-08-12 14:00:39 - app.main - INFO - main.py:1419 - API routers initialized successfully
2025-08-12 14:00:39 - direct_db_test - INFO - direct_db_test.py:30 - Successfully imported required modules
2025-08-12 14:00:39 - direct_db_test - INFO - direct_db_test.py:31 - Database URL from session: postgresql://postgres.lflecyuvttemfoyixngi:Ayeshaayesha121@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
2025-08-12 14:00:39 - direct_db_test - INFO - direct_db_test.py:35 - Synchronous DB URL: postgresql+psycopg2://postgres.lflecyuvttemfoyixngi:Ayeshaayesha121@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
2025-08-12 14:00:40 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:896 - Created new connection <connection object at 0x7f1341f95580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0>
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - select pg_catalog.version()
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('version',)
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('PostgreSQL 17.4 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.0, 64-bit',)
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - select current_schema()
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('current_schema',)
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('public',)
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - show standard_conforming_strings
2025-08-12 14:00:41 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('standard_conforming_strings',)
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('on',)
2025-08-12 14:00:42 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:737 - Connection <connection object at 0x7f1341f95580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> checked out from pool
2025-08-12 14:00:42 - direct_db_test - INFO - direct_db_test.py:45 - Connection attempt 1/3
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:2702 - BEGIN (implicit)
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SET log_min_duration_statement = 100
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00034s] {}
2025-08-12 14:00:42 - direct_db_test - INFO - direct_db_test.py:49 - Set log_min_duration_statement = 100 for this session.
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT 1
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00021s] {}
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('?column?',)
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (1,)
2025-08-12 14:00:42 - direct_db_test - INFO - direct_db_test.py:53 - Test query result: 1
2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 -
                        SELECT EXISTS (
                            SELECT FROM information_schema.tables
                            WHERE table_schema = 'public'
                            AND table_name = 'users'
                        )

2025-08-12 14:00:42 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00020s] {}
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('exists',)
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (True,)
2025-08-12 14:00:43 - direct_db_test - INFO - direct_db_test.py:65 - Users table exists in public schema: True
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT COUNT(*) FROM public.users
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00019s] {}
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('count',)
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (2,)
2025-08-12 14:00:43 - direct_db_test - INFO - direct_db_test.py:71 - Number of users in public.users: 2
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT id, email, is_active FROM public.users LIMIT 5
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00017s] {}
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('id', 'email', 'is_active')
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row ('08ad2159-1681-41b9-9f43-808bff146ccb', 'testuser@example.com', True)
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row ('ed485684-cb7e-4bd6-a47d-3cfaedb32a9f', 'test@example.com', True)
2025-08-12 14:00:43 - direct_db_test - INFO - direct_db_test.py:77 - Sample users: [{'id': '08ad2159-1681-41b9-9f43-808bff146ccb', 'email': 'testuser@example.com', 'is_active': True}, {'id': 'ed485684-cb7e-4bd6-a47d-3cfaedb32a9f', 'email': 'test@example.com', 'is_active': True}]
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 -
                        SELECT EXISTS (
                            SELECT FROM information_schema.tables
                            WHERE table_schema = 'auth'
                            AND table_name = 'users'
                        )

2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00017s] {}
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('exists',)
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (True,)
2025-08-12 14:00:43 - direct_db_test - INFO - direct_db_test.py:89 - Users table exists in auth schema: True
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT COUNT(*) FROM auth.users
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00017s] {}
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('count',)
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (2,)
2025-08-12 14:00:43 - direct_db_test - INFO - direct_db_test.py:95 - Number of users in auth.users: 2
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT id, email, raw_user_meta_data FROM auth.users LIMIT 5
2025-08-12 14:00:43 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00020s] {}
2025-08-12 14:00:44 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('id', 'email', 'raw_user_meta_data')
2025-08-12 14:00:44 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row (UUID('aed4e36d-13ef-48f6-b41e-7bc5118b56a9'), 'test12@gmail.com', {'sub': 'aed4e36d-13ef-48f6-b41e-7bc5118b56a9', 'email': 'test12@gmail.com', 'full_name': 'Test', 'email_verified': False, 'phone_verified': False})
2025-08-12 14:00:44 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row (UUID('085838e5-80e8-428d-8259-f326dbae5b03'), 'kunalnangia3@gmail.com', {'sub': '085838e5-80e8-428d-8259-f326dbae5b03', 'email': 'kunalnangia3@gmail.com', 'full_name': 'Test', 'email_verified': True, 'phone_verified': False})
2025-08-12 14:00:44 - direct_db_test - INFO - direct_db_test.py:102 - Found 2 users in auth.users
2025-08-12 14:00:44 - sqlalchemy.engine.Engine - INFO - base.py:2705 - ROLLBACK
2025-08-12 14:00:44 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:970 - Connection <connection object at 0x7f1341f95580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> being returned to pool
2025-08-12 14:00:44 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:1423 - Connection <connection object at 0x7f1341f95580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> reset, transaction already reset
2025-08-12 14:00:44 - direct_db_test - INFO - direct_db_test.py:115 - Direct database test completed successfully
2025-08-12 14:50:58 - root - INFO - main.py:88 - ================================================================================
2025-08-12 14:50:58 - root - INFO - main.py:89 - Application starting with enhanced logging (level: INFO)
2025-08-12 14:50:58 - root - INFO - main.py:90 - Python version: 3.12.11 (main, Jul 29 2025, 18:21:07) [GCC 13.3.0]
2025-08-12 14:50:58 - root - INFO - main.py:91 - Working directory: /app
2025-08-12 14:50:58 - root - INFO - main.py:92 - ================================================================================
2025-08-12 14:50:59 - app.main - INFO - main.py:1407 - Initializing API routers...
2025-08-12 14:51:00 - app.main - INFO - main.py:1419 - API routers initialized successfully
2025-08-12 14:51:00 - direct_db_test - INFO - direct_db_test.py:30 - Successfully imported required modules
2025-08-12 14:51:00 - direct_db_test - INFO - direct_db_test.py:31 - Database URL from session: postgresql://postgres.lflecyuvttemfoyixngi:Ayeshaayesha121@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
2025-08-12 14:51:00 - direct_db_test - INFO - direct_db_test.py:35 - Synchronous DB URL: postgresql+psycopg2://postgres.lflecyuvttemfoyixngi:Ayeshaayesha121@aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres
2025-08-12 14:51:02 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:896 - Created new connection <connection object at 0x7f4ba39b9580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0>
2025-08-12 14:51:02 - sqlalchemy.engine.Engine - INFO - base.py:1846 - select pg_catalog.version()
2025-08-12 14:51:02 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('version',)
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('PostgreSQL 17.4 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.0, 64-bit',)
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - INFO - base.py:1846 - select current_schema()
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('current_schema',)
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('public',)
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - INFO - base.py:1846 - show standard_conforming_strings
2025-08-12 14:51:03 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [raw sql] {}
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('standard_conforming_strings',)
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row ('on',)
2025-08-12 14:51:04 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:737 - Connection <connection object at 0x7f4ba39b9580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> checked out from pool
2025-08-12 14:51:04 - direct_db_test - INFO - direct_db_test.py:45 - Connection attempt 1/3
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:2702 - BEGIN (implicit)
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SET log_min_duration_statement = 100
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00045s] {}
2025-08-12 14:51:04 - direct_db_test - INFO - direct_db_test.py:49 - Set log_min_duration_statement = 100 for this session.
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT 1
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00021s] {}
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('?column?',)
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (1,)
2025-08-12 14:51:04 - direct_db_test - INFO - direct_db_test.py:53 - Test query result: 1
2025-08-12 14:51:04 - direct_db_test - INFO - direct_db_test.py:56 - Executing intentionally slow query (pg_sleep(1))...
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT pg_sleep(1)
2025-08-12 14:51:04 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00018s] {}
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('pg_sleep',)
2025-08-12 14:51:06 - direct_db_test - INFO - direct_db_test.py:58 - Slow query executed.
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 -
                        SELECT EXISTS (
                            SELECT FROM information_schema.tables
                            WHERE table_schema = 'public'
                            AND table_name = 'users'
                        )

2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00030s] {}
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('exists',)
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (True,)
2025-08-12 14:51:06 - direct_db_test - INFO - direct_db_test.py:70 - Users table exists in public schema: True
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT COUNT(*) FROM public.users
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00024s] {}
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('count',)
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (2,)
2025-08-12 14:51:06 - direct_db_test - INFO - direct_db_test.py:76 - Number of users in public.users: 2
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT id, email, is_active FROM public.users LIMIT 5
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00018s] {}
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('id', 'email', 'is_active')
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row ('08ad2159-1681-41b9-9f43-808bff146ccb', 'testuser@example.com', True)
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row ('ed485684-cb7e-4bd6-a47d-3cfaedb32a9f', 'test@example.com', True)
2025-08-12 14:51:06 - direct_db_test - INFO - direct_db_test.py:82 - Sample users: [{'id': '08ad2159-1681-41b9-9f43-808bff146ccb', 'email': 'testuser@example.com', 'is_active': True}, {'id': 'ed485684-cb7e-4bd6-a47d-3cfaedb32a9f', 'email': 'test@example.com', 'is_active': True}]
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 -
                        SELECT EXISTS (
                            SELECT FROM information_schema.tables
                            WHERE table_schema = 'auth'
                            AND table_name = 'users'
                        )

2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00018s] {}
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('exists',)
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (True,)
2025-08-12 14:51:06 - direct_db_test - INFO - direct_db_test.py:94 - Users table exists in auth schema: True
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT COUNT(*) FROM auth.users
2025-08-12 14:51:06 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00029s] {}
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('count',)
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1479 - Row (2,)
2025-08-12 14:51:07 - direct_db_test - INFO - direct_db_test.py:100 - Number of users in auth.users: 2
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - INFO - base.py:1846 - SELECT id, email, raw_user_meta_data FROM auth.users LIMIT 5
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - INFO - base.py:1846 - [generated in 0.00016s] {}
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - DEBUG - cursor.py:1447 - Col ('id', 'email', 'raw_user_meta_data')
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row (UUID('aed4e36d-13ef-48f6-b41e-7bc5118b56a9'), 'test12@gmail.com', {'sub': 'aed4e36d-13ef-48f6-b41e-7bc5118b56a9', 'email': 'test12@gmail.com', 'full_name': 'Test', 'email_verified': False, 'phone_verified': False})
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - DEBUG - result.py:498 - Row (UUID('085838e5-80e8-428d-8259-f326dbae5b03'), 'kunalnangia3@gmail.com', {'sub': '085838e5-80e8-428d-8259-f326dbae5b03', 'email': 'kunalnangia3@gmail.com', 'full_name': 'Test', 'email_verified': True, 'phone_verified': False})
2025-08-12 14:51:07 - direct_db_test - INFO - direct_db_test.py:107 - Found 2 users in auth.users
2025-08-12 14:51:07 - sqlalchemy.engine.Engine - INFO - base.py:2705 - ROLLBACK
2025-08-12 14:51:07 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:970 - Connection <connection object at 0x7f4ba39b9580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> being returned to pool
2025-08-12 14:51:07 - sqlalchemy.pool.impl.QueuePool - DEBUG - base.py:1423 - Connection <connection object at 0x7f4ba39b9580; dsn: 'user=postgres.lflecyuvttemfoyixngi password=xxx dbname=postgres host=aws-0-ap-southeast-1.pooler.supabase.com port=6543', closed: 0> reset, transaction already reset
2025-08-12 14:51:07 - direct_db_test - INFO - direct_db_test.py:120 - Direct database test completed successfully
